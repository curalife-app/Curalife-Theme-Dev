{% comment %}
	Renders a countdown timer block, utilizing the countdown-timer snippet.

	Accepts:
	- block: The block object containing settings.
	- section_id: The ID of the parent section (for unique elements).

	Usage:
	{% render 'countdown-block', block: block, section_id: section_id %}
{% endcomment %}

<div class="countdown-block-wrapper" {{ block.shopify_attributes }}>
	{%
		render 'countdown-timer',
		section_id: section_id | append: '-' | append: block.id,
		day: block.settings.day,
		month: block.settings.month,
		year: block.settings.year,
		hour: block.settings.hour,
		minute: block.settings.minute,
		urgencyMinutes: block.settings.urgency_minutes,
		bgColor: block.settings.bg_color,
		isShowDays: block.settings.is_show_days
	%}
</div>

{% schema %}
	{
		"name": "Countdown Timer Block",
		"settings": [
			{
				"type": "color",
				"id": "bg_color",
				"label": "Countdown Background Color"
			},
			{
				"type": "header",
				"content": "Target Date"
			},
			{
				"type": "range",
				"id": "year",
				"label": "Year",
				"min": 2024,
				"max": 2030,
				"step": 1,
				"default": 2024
			},
			{
				"type": "select",
				"id": "month",
				"label": "Month",
				"options": [
					{ "value": "Jan", "label": "January" },
					{ "value": "Feb", "label": "February" },
					{ "value": "Mar", "label": "March" },
					{ "value": "Apr", "label": "April" },
					{ "value": "May", "label": "May" },
					{ "value": "Jun", "label": "June" },
					{ "value": "Jul", "label": "July" },
					{ "value": "Aug", "label": "August" },
					{ "value": "Sep", "label": "September" },
					{ "value": "Oct", "label": "October" },
					{ "value": "Nov", "label": "November" },
					{ "value": "Dec", "label": "December" }
				],
				"default": "Dec"
			},
			{
				"type": "range",
				"id": "day",
				"label": "Day",
				"min": 1,
				"max": 31,
				"step": 1,
				"default": 31
			},
			{
				"type": "range",
				"id": "hour",
				"label": "Hour",
				"min": 0,
				"max": 23,
				"step": 1,
				"default": 23
			},
			{
				"type": "range",
				"id": "minute",
				"label": "Minute",
				"min": 0,
				"max": 59,
				"step": 1,
				"default": 59
			},
			{
				"type": "checkbox",
				"id": "is_show_days",
				"label": "Show Days",
				"default": true
			},
			{
				"type": "header",
				"content": "Urgency Countdown Settings"
			},
			{
				"type": "number",
				"id": "urgency_minutes",
				"label": "Urgency Minutes",
				"info": "Optional. Overrides Target Date for a rolling countdown."
			}
		],
		"presets": [
			{
				"name": "Countdown Block"
			}
		]
	}
{% endschema %}
