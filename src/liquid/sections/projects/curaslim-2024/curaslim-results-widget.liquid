<section class="results-widget">
        <div class="container">
            <img src="//curalife.com/cdn/shop/files/People-icons-1.png?v=1723478548" alt="people icons">
            <h2>This Is About So Much More Than <br><span>Just Losing Weight.</span></h2>
            <p>1000 Curaslim customers swear by its results.</p>

            <div class="tabs">
                <div class="tab active" data-tab="weight-loss">Weight Loss</div>
                <div class="tab" data-tab="hunger-reduction">Hunger Reduction</div>
                <div class="tab" data-tab="energy-levels">Energy Levels</div>
                <div class="tab" data-tab="appetite-control">Appetite Control</div>
                <div class="tab" data-tab="fullness">Fullness</div>
            </div>

            <div id="content" class="content">
                <div class="usage-section">
                    <div class="months-usage">
                        <div class="usage">3</div>
                        <div>months usage</div>
                    </div>
                    <div class="description" id="desc-3"></div>
                    <div class="image" id="image-3"></div>
                </div>
                <div class="usage-section">
                    <div class="months-usage">
                        <div class="usage">6</div>
                        <div>months usage</div>
                    </div>
                    <div class="description" id="desc-6"></div>
                    <div class="image" id="image-6"></div>
                </div>
            </div>
        </div>
    </section>

    <script>
        const tabData = {
            'weight-loss': {
                '3': {
                    text: 'Approximately 93% of participants reported losing more than 7.5% of body weight in 3 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/weight_loss.png?v=1723553190'
                },
                '6': {
                    text: 'Approximately 92% of participants using Curaslim for 6 months reported losing more than 11.7% of body weight.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/phone.png?v=1723553165'
                }
            },
            'hunger-reduction': {
                '3': {
                    text: '85% of users reported significant reduction in hunger after 3 months of use.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/weight_loss.png?v=1723553190'
                },
                '6': {
                    text: '94% of users experienced sustained hunger reduction after 6 months of use.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/phone.png?v=1723553165'
                }
            },
            'energy-levels': {
                '3': {
                    text: '78% of participants reported increased energy levels within 3 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/weight_loss.png?v=1723553190'
                },
                '6': {
                    text: '89% of users maintained higher energy levels after 6 months of use.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/phone.png?v=1723553165'
                }
            },
            'appetite-control': {
                '3': {
                    text: '82% of users reported better appetite control in just 3 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/weight_loss.png?v=1723553190'
                },
                '6': {
                    text: '91% of participants experienced long-term appetite control after 6 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/phone.png?v=1723553165'
                }
            },
            'fullness': {
                '3': {
                    text: '76% of users felt fuller for longer periods after meals within 3 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/weight_loss.png?v=1723553190'
                },
                '6': {
                    text: '88% of participants reported sustained feelings of fullness after 6 months.',
                    image: 'https://cdn.shopify.com/s/files/1/0452/2459/1511/files/phone.png?v=1723553165'
                }
            }
        };

        function updateContent(tab) {
            const sections = document.querySelectorAll('.usage-section');
            sections.forEach(section => section.classList.remove('visible'));

            setTimeout(() => {
                document.getElementById('desc-3').textContent = tabData[tab]['3'].text;
                document.getElementById('image-3').style.backgroundImage = `url(${tabData[tab]['3'].image})`;
                document.getElementById('desc-6').textContent = tabData[tab]['6'].text;
                document.getElementById('image-6').style.backgroundImage = `url(${tabData[tab]['6'].image})`;

                sections.forEach((section, index) => {
                    setTimeout(() => {
                        section.classList.add('visible');
                    }, index * 200);
                });
            }, 300);
        }

        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                if (!tab.classList.contains('active')) {
                    document.querySelector('.tab.active').classList.remove('active');
                    tab.classList.add('active');
                    updateContent(tab.dataset.tab);
                }
            });
        });

        // Initialize with weight loss tab
        updateContent('weight-loss');
    </script>

    <script>
      const slider = document.querySelector('.tabs');
let isDown = false;
let startX;
let scrollLeft;

slider.addEventListener('mousedown', (e) => {
  isDown = true;
  slider.classList.add('active');
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
});
slider.addEventListener('mouseleave', () => {
  isDown = false;
  slider.classList.remove('active');
});
slider.addEventListener('mouseup', () => {
  isDown = false;
  slider.classList.remove('active');
});
slider.addEventListener('mousemove', (e) => {
  if(!isDown) return;
  e.preventDefault();
  const x = e.pageX - slider.offsetLeft;
  const walk = (x - startX) * 3; //scroll-fast
  slider.scrollLeft = scrollLeft - walk;
  console.log(walk);
});
    </script>

<style>
  .results-widget {
      text-align: center;
      max-width: 1200px;
      margin: 0 auto;
  }
  .results-widget h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
  }
  .results-widget h2 span {
      color: #4a90e2;
  }
  .results-widget p {
      font-size: 1.2rem;
      margin-bottom: 2rem;
  }
  .results-widget .tabs {
      display: flex;
      justify-content: start;
      gap: 1rem;
      margin-bottom: 2rem;
      overflow-y: scroll;
      scrollbar-width: none;
      cursor: grab;
  }
  .results-widget .tab {
      padding: 0.75rem 1.5rem;
      cursor: pointer;
      background: #EDEDED;
      border: 1px solid #EDEDED;
      border-radius: 100px;
      font-size: 1rem;
      transition: all 0.3s ease;
      min-inline-size: max-content;

  }
  .results-widget .tab:hover {
      background: #d1d1d1;
  }
  .results-widget .tab.active {
      background-color: black;
      color: white;
  }
  .results-widget .content {
      display: flex;
      background-color: #F8FCFF;
      justify-content: space-between;
      align-items: stretch;
      max-width: 1000px;
      margin: auto;
      border: 20px solid #EDEDED;
      padding: 2rem;
      border-radius: 15px;
      flex-direction: column;
      gap: 3rem;
  }
  .results-widget .usage-section {
      display: flex;
      align-items: center;
      gap: 2rem;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
  }
  .results-widget .usage-section.visible {
      opacity: 1;
      transform: translateY(0);
  }
  .results-widget .months-usage {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;

      @media screen and (max-width: 768px) {
          gap: unset;
      }
  }
  .results-widget .usage {
      font-size: 2.5rem;
      font-weight: bold;
      color: #4a90e2;
  }
  .results-widget .description {
      flex: 1;
      padding-left: 1.5rem;
      border-left: 3px solid #EDEDED;
      text-align: start;
      font-size: 1.1rem;

      @media screen and (max-width: 768px) {
        border-left: unset;
        border-top: 3px solid #EDEDED;
        text-align: center;
      }
  }
  .results-widget .image {
      width: 180px;
      height: 100px;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      transition: transform 0.3s ease;
  }
  .results-widget .image:hover {
      transform: scale(1.1);
  }
</style>

{% schema %}
  {
    "name": "Results Widget",
    "settings": [],
    "presets": [
      {
        "category": "Page",
        "name": "Results Widget"
      }
    ]
  }
{% endschema %}