{% assign reviews = "“Curalife has kept my sugar within normal ranges even after I eat things that I probably shouldn't!”*Alon M.
|“This is the greatest! My husband started taking this! Finally found a product that works! “*Linda V.
|“I have tried so many different supplements with no results. This one is amazing and i am excited. I just purchased my second bottle.”*Michael Murillo Sr.
|“It is so wonderful to find something that really works. I feel so much better!!”*Leanne A.
|“Have been taking CuraLin over the last four months and am beyond pleased with the results.”*Michael E."
| split: '|' %}

<section id="curalin-pack-info-section">
  <div class="container">
    <div class="section-titles">
      <h2 class="title">{{ section.settings.title }}</h2>
      <p class="subtitle">{{ section.settings.description }}</p>
    </div>   
    <div class="tabbed-content tabs-side">
      <nav class="tabs">
        <ul>
        {% assign tab_block = section.blocks | where: 'type', 'tab_block' %}
         {% for block in tab_block %}
            <li><a href="#{{ block.settings.tab_id }}" {% if forloop.first %}class="active"{% endif %}>{{ block.settings.tab_name }}&#x3e;</a></li> 
         {% endfor %}
        </ul>
      </nav>
      <div class="content">
        <div id="health-benefits" class="content-item active always-active" data-title="Benefits/Description">
          <div class="health-benefits item-content">
            {% assign benefit = section.blocks | where: 'type', 'benefit' %} 
          {% for block in benefit %}
            <div class="health-benefit">
              <img src="{{ block.settings.bnf_img | img_url }}" width="54" height="54" alt="health benefit" loading="lazy">
              <p>{{ block.settings.bnf_desc }}</p>
            </div>
          {% endfor %}
          </div>
        </div>
        <div id="instructions" class="content-item" data-title="Usage Instructions">
          <div class="instructions item-content">
            {% assign step = section.blocks | where: 'type', 'step' %} 
            {% for block in step %}
              <div class="step">
                <h3>{{ block.settings.stp_ttl }}</h3>
                <div class="capsules">
                   {% assign amount = block.settings.amount | plus: 0 %}
                   {% for i in (1..amount) %}
                       <img class="caps" src="{{ block.settings.capsule | img_url: 'medium' }}" width="20" height="31" alt="Capsule Pill" loading="lazy" style="min-width: 35px">
                   {% endfor %}                      
                </div>
                <p>{{ block.settings.stp_text }}</p>
              </div>
            {% endfor %}
          </div>
        </div>      
          <div id="ingredients" class="content-item" data-title="Ingredients">
            <div class="ingredients item-content">
            {% assign ingr_itm = section.blocks | where: 'type', 'ingr_itm' %}
              {% for block in ingr_itm %}
                <div class="ingredient">
                  {% assign ingredient_handle = block.settings.ingr_ttl | downcase | replace: ' ', '-' %}
                  <img src="{{ block.settings.ingr_img | img_url: 'medium' }}" width="68" height="53" alt="Ingredient" loading="lazy">
                  <p>{{ block.settings.ingr_ttl }}</p>
                </div>
              {% endfor %}
            </div>
          </div>
        <div id="reviews" class="content-item" data-title="Reviews">
          <div class="reviews item-content">
            {% render 'product-supplement-pack-info-reviews', reviews: reviews %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .content {
    max-width: 100%;
  }

  #curalin-pack-info-section {
    background-color: {{ section.settings.bg_color }};
  }

  #curalin-pack-info-section .section-titles {
    flex-direction: revert;
    justify-content: start;
    max-width: 100%;
    text-align: left;
    display: flex;
    gap: 30px;
  }

  #curalin-pack-info-section:nth-of-type(even) {
    background: {{ section.settings.bg_color }};
  }

  #curalin-pack-info-section .product-image-wrapper {
    position: absolute;
    bottom: -120px;
    right: 0;
    pointer-events: none;
  }

  #curalin-pack-info-section:nth-of-type(even) .tabbed-content {
    margin-left: 30%;
  }

  #curalin-pack-info-section:nth-of-type(even) .product-image-wrapper,
  #curalin-pack-info-section:nth-of-type(even) .product-image-wrapper p{
    left: 0;
  }



  #curalin-pack-info-section .product-image-wrapper .product-image {
    position: relative;
    right: -10px;
  }

  #curalin-pack-info-section .health-benefits {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
  }

  #curalin-pack-info-section .health-benefits .health-benefit {
    display: flex;
    align-items: center;
    width: 35%;
    gap: 20px;
  }


  #curalin-pack-info-section .instructions {
    display: flex;
    flex-direction: column;
    gap: 30px;
    max-width: 650px;
  }

  #curalin-pack-info-section .instructions .step {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 10px;
  }

  #curalin-pack-info-section .instructions .step p {
      max-width: 200px;
      margin: unset;
  }

  #curalin-pack-info-section .instructions .step h3 {
    font-size: 28px;
    font-weight: bold;
    min-width: 105px;
  }

  #curalin-pack-info-section .instructions .step .capsules {
    display: flex;
    min-width: 80px;
  }

  #curalin-pack-info-section .ingredients {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 10px;
    max-width: 500px;
  }

  #curalin-pack-info-section .ingredient {
    width: 30%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  #curalin-pack-info-section .ingredient p {
    font-size: 16px;
    text-align: center;
  }

  #curalin-pack-info-section .reviews {
    text-align: center;
  }

  #curalin-pack-info-section .reviews img {
    max-height: 300px;
  }

  #curalin-pack-info-section .tabbed-content {
    display: flex;
    align-items: center;
  }

  #curalin-pack-info-section .tabs ul li {
    text-align: center;
    height: 70px;
    border-bottom: 1px solid;
  }

  #curalin-pack-info-section .tabs ul li:first-child {
    border-top: 1px solid;
  }

  #curalin-pack-info-section .tabs ul li a {
    height: 100%;
    align-items: center;
    display: flex;
    justify-content: center;
  }



  #curalin-pack-info-section .tabs ul li a:hover,
  #curalin-pack-info-section .tabs ul li a.active {
    color: {{ section.settings.act_tab }};
    font-weight: bold;
  }



  #curalin-pack-info-section .content-item {
    margin-bottom: 2px;
    position: relative;
  }

  #curalin-pack-info-section .content-item::before {
    content: attr(data-title);
    border-top: 1px solid {{ section.settings.brd_clr }};
    cursor: pointer;
    font-weight: bold;
    padding: 0.5em;
    display: block;
    text-align: center;
  }

  #curalin-pack-info-section .content-item.active .item-content {
    transition: opacity 0.8s ease-in-out;
  }

  #curalin-pack-info-section .tabbed-content .tabs {
    display: none;
  }

  .tabbed-content .content-item {
    min-height: 2em;
  }

  #curalin-pack-info-section .tabbed-content .content-item .item-content {
    opacity: 0;
    visibility: hidden;
    height: 0;
  }

  #curalin-pack-info-section .tabbed-content .content-item.active .item-content {
    display: flex;
    justify-content: center;
    opacity: 1;
    visibility: visible;
    height: auto;
  }

  @media all and (min-width: 1131px) {

    #curalin-pack-info-section .health-benefits {
        justify-content: center;
      }
    .content-item.active .item-content {
      padding-top: 0;
    }

    #curalin-pack-info-section .tabbed-content .tabs {
      display: block;
    }

    #curalin-pack-info-section .tabbed-content .tabs li {
      display: inline-block;
      margin-bottom: 2px;
    }

    #curalin-pack-info-section .tabbed-content .tabs li a {
      display: flex;
    }

    #curalin-pack-info-section .tabbed-content .content-item {
      min-height: 0;
      margin: unset;
      max-width: 800px;
    }

    #curalin-pack-info-section .health-benefits .health-benefit img {
      min-width: 40px;
      max-height: 40px;
      object-fit: contain;
    }

    #curalin-pack-info-section .tabbed-content .content-item::before {
      display: none;
    }

    #curalin-pack-info-section .tabbed-content.tabs-side .tabs {
      min-width: 300px;
      margin-right: 50px;
    }

    #curalin-pack-info-section .tabbed-content.tabs-side .tabs li {
      display: block;
    }
  }

  @media screen and (max-width: 1130px) {
    #supplement-page section h2 {
        font-size: 7vw;
        text-align: center;
    }
    #curalin-pack-info-section .section-titles {
      gap: unset;
      margin-bottom: 5vw;
      flex-wrap: wrap;
    }

    #curalin-pack-info-section .tabbed-content {
      display: block;
      margin-left: unset !important;
    }

    #curalin-pack-info-section .content-item::after {
      content: "+";
      font-size: 30px;
      position: absolute;
      top: 5px;
      right: 2vw;
      border: {% if section.settings.no_brd %}none {% else %} 2px solid {{ section.settings.brd_clr }}{% endif %};
      border-radius: 50%;
      width: 3vw;
      height: 3vw;
      font-size: 3vw;
      display: flex;
      align-items: center;
      justify-content: center;
      color: {{ section.settings.brd_clr }};
    }

    #curalin-pack-info-section .content-item.active::after {
      content: "-";
    }

    #curalin-pack-info-section .product-image-wrapper {
      bottom: 0;
      width: 100%;
      position: relative;
      text-align: center;
      margin-top: 10vw;
    }

    #curalin-pack-info-section .product-image-wrapper .product-image {
      right: unset;
      text-align: center;
    }

    #curalin-pack-info-section .product-image-wrapper .number {
      top: -15vw;
      font-size: 70vw !important;
      right: 13vw;
    }

    #curalin-pack-info-section .tabbed-content .content-item.active .item-content {
      padding: 5vw 0;
      margin: 0 auto;
    }

    #curalin-pack-info-section .instructions .step {
      gap: 2vw;
    }

    #curalin-pack-info-section .instructions .step h3 {
      min-width: 20vw;
    }
  }

  @media screen and (max-width: 768px) {
    #curalin-pack-info-section .health-benefits .health-benefit {
      width: 40%;
    }
    #curalin-pack-info-section .health-benefits .health-benefit {
      gap: 2vw;
      flex-direction: column;
      text-align: center;
    }
    #curalin-pack-info-section .health-benefits .health-benefit p {
      font-size: 4vw;
      text-align: center;
     }
    }
    @media screen and (max-width: 500px) {
      #curalin-pack-info-section .content-item::after {
          top: 3vw;
          width: 5vw;
          height: 5vw;
          font-size: 5vw;
      }
    
  }
</style>

<script>
  tabControl();

  var resizeTimer;
  $(window).on('resize', function(e) {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(function() {
      tabControl();
    }, 250);
  });

  function tabControl() {
    var tabs = $('#curalin-pack-info-section .tabbed-content').find('.tabs');
    if(tabs.is(':visible')) {
    tabs.find('a').on('click', function(event) {
      event.preventDefault();
      var target = $(this).attr('href'),
          tabs = $(this).parents('.tabs'),
          buttons = tabs.find('a'),
          item = tabs.parents('#curalin-pack-info-section .tabbed-content').find('.content-item');
      buttons.removeClass('active');
      item.removeClass('active');
      $(this).addClass('active');
      $(target).addClass('active');
    });
    } else {
    $('.content-item').before().on('click', function() {
      var container = $(this).parents('.tabbed-content'),
          currId = $(this).attr('id'),
          items = container.find('.content-item');
      const isCurrentActive = $(this).hasClass('active');
      container.find('.tabs a').removeClass('active');
      items.removeClass('active');
      if (!isCurrentActive) {
        $(this).addClass('active');
        container.find('.tabs a[href$="#'+ currId +'"]').addClass('active');
      };
    });
    }
  }
</script>


{% schema %}
{
   "name":"Curalin Pack Info",
   "disabled_on":{
      "groups":[
         "header",
         "footer"
      ]
   },
   "settings":[
      {
         "type":"color",
         "id":"bg_color",
         "label":"Background Color",
         "default": "#fffaf5"
      },
      {
        "type": "color",
        "id": "act_tab",
        "label": "Active Tab Color",
        "default": "#c0956b"
      },
      {
        "type": "color",
        "id": "brd_clr",
        "label": "Borders Color",
        "default": "#9eb069"
      },   
      {
        "type": "text",
        "id": "title",
        "label": "Product Title"
      },
      {
        "type": "text",
        "id": "description",
        "label": "Product Description"
      },
      {
        "type": "checkbox",
        "id": "no_brd",
        "label": "No Round Border"
      }
   ],
   "blocks": [
      {
         "name": "Tab",
         "type": "tab_block",
         "settings": [
          {
            "type":"text",
            "id":"tab_id",
            "label":"Tab ID"
          },
          {
            "type":"text",
            "id":"tab_name",
            "label":"Tab Name"
          }
         ]
      },
      {
        "name": "Benefit",
        "type": "benefit",
        "settings": [
         {
           "type":"image_picker",
           "id":"bnf_img",
           "label":"Benefit Image"
         },
         {
           "type":"text",
           "id":"bnf_desc",
           "label":"Benefit Description"
         }
        ]
      },
      {
        "name": "Step",
        "type": "step",
        "settings": [
            {
                "type": "text",
                "id":"stp_ttl",
                "label": "Step Title"
            },
            {
              "type":"image_picker",
              "id":"capsule",
              "label":"Capsule Image"
            },
            {
              "type": "select",
              "id": "amount",
              "label": "Amount",
              "options": [
                {
                  "value": "1",
                  "label": "1"
                },
                {
                  "value": "2",
                  "label": "2"
                },
                {
                  "value": "3",
                  "label": "3"
                }
              ],
              "default": "1"
            },
            {
                "type": "text",
                "id": "stp_text",
                "label": "Step Text"
            }
        ]
      },
      {
        "name": "Ingredient Item",
        "type": "ingr_itm",
        "settings": [
         {
           "type":"image_picker",
           "id":"ingr_img",
           "label":"Ingredient Image"
         },
         {
            "type": "text",
            "id": "ingr_ttl",
            "label": "Ingridient Title"
         }
        ]
      }
   ],
   "presets": [
      {
         "name":"Curalin Pack Info"
      }
   ]
}
{% endschema %}