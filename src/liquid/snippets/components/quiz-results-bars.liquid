<div class="quiz-results">
	<h2>CuraSlim Users Also Notice:</h2>
	{% for benefit in benefits %}
		<!-- Debug Output: {{ benefit | json }} -->
		<div class="benefit-item">
			<div class="benefit-label">
				{{ benefit.title }}
				<span class="benefit-percentage">{{ benefit.percentage }}%</span>
			</div>
			<div class="benefit-bar-container">
				<!-- The data-percentage attribute is used to animate the bar -->
				<div class="benefit-bar-fill" data-percentage="{{ benefit.percentage }}"></div>
			</div>
		</div>
	{% endfor %}
</div>

<style>
	.quiz-results {
		max-width: 600px;
		margin: 0 auto;
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
	}
	.quiz-results h2 {
		margin-bottom: 1rem;
		font-size: 1.25rem;
	}
	.benefit-item {
		margin-bottom: 1.5rem;
	}
	.benefit-label {
		font-weight: 600;
		margin-bottom: 0.5rem;
	}
	.benefit-percentage {
		margin-left: 0.5rem;
		font-weight: normal;
		color: #666;
	}
	.benefit-bar-container {
		background-color: #e0e0e0;
		border-radius: 6px;
		height: 10px;
		overflow: hidden;
		position: relative;
	}
	.benefit-bar-fill {
		background-color: #007acc;
		height: 100%;
		width: 0%;
		transition: width 1s ease-in-out;
	}
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
	// Debug: Log the benefits array passed from Liquid
	var benefits = {{ benefits | json }};
	console.log("Benefits array:", benefits);

	var bars = document.querySelectorAll('.benefit-bar-fill');
	console.log("Found " + bars.length + " benefit bars.");

	bars.forEach(function(bar, index) {
		var percentage = bar.getAttribute('data-percentage');
		console.log("Animating Benefit " + index + " with percentage: " + percentage);
		bar.style.width = percentage + '%';
	});
});
</script>
