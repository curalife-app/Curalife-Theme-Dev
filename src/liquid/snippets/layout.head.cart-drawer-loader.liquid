<script>
	// Simple function to handle cart opening
	function setupCartOpener() {
		const urlParams = new URLSearchParams(window.location.search);
		if (urlParams.get('cart') === 'true') {
			console.log('cart=true parameter detected');

			function clickCartIcon() {
				// Use the cart-icon ID that was added
				const cartIcon = document.querySelector('#cart-icon');
				if (cartIcon) {
					console.log('Found #cart-icon, clicking it');
					cartIcon.click();
					return true;
				} else {
					console.log('Cart icon with #cart-icon not found');
					return false;
				}
			}

			// Try when DOM is ready and again when fully loaded
			if (document.readyState === 'complete') {
				clickCartIcon();
			} else {
				// Try once on DOMContentLoaded
				setTimeout(clickCartIcon, 500);

				// And again on full page load
				window.addEventListener('load', function() {
					setTimeout(clickCartIcon, 300);
				});
			}
		}
	}

	// Initialize on DOMContentLoaded
	document.addEventListener('DOMContentLoaded', setupCartOpener);
</script>